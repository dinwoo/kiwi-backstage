{"version":3,"sources":["index.js"],"names":["getForm","$","ajax","url","apiDomain","type","data","console","res","setForm","key","concat","val","bindEvent","xhr","log","document","ready","uploadFile","on","this","isPreview","apiUrl"],"mappings":"cACA,WAoBE,SAASA,IACPC,EAAEC,KAAK,CACLC,IAAKC,UAAS,wBACdC,KAAM,MACNC,KAAI,GAGFC,QAAO,SAAPC,GACAC,QAAQD,IAAIF,GAShB,SAAAA,GAEE,IAAA,IAAAI,KAAAJ,EAGe,GAAbI,EAAGJ,QAAH,aACGA,EAAAI,GADHT,EAAA,IAAAU,OAEKD,IAAAE,IAAA,KAEJX,EAAA,IAAAU,OAAAD,IAAAE,IAAA,KAGFX,EAAA,IAAAU,OAAAD,IAAAE,IAAAN,EAAAI,IAEHG,YA9BOJ,CAAAD,EAAAF,OAUHC,MAAAA,SAAAO,GACDP,QAAAQ,IAAAD,MAsBLb,EAAEe,UAAUC,MAAM,WAIhBhB,IAEEiB,EAAAA,sBAAAC,GAAA,SAAA,WAFFZ,QAAAQ,IAAA,eAKEG,WAAWC,EAAbC,MAAgB,MAGfnB,EAHD,WAAAkB,GAAA,QAAA,WAKEE,WAAYF,EACZE,OAAS,iCAfbpB,EAAA,YAAAkB,GAAA,QAAA,WAtDFE,WAAA,EAsEMC,OAAS,iCAtEf","file":"index.js","sourcesContent":["// Example starter JavaScript for disabling form submissions if there are invalid fields\r\n(function () {\r\n\r\n  // $.mockjax({\r\n  //     url:apiDomain+ 'api/getForm',\r\n  //     status: 200,\r\n  //     responseTime: 750,         \r\n  //     responseText: {\r\n  //       \"success\":true,\r\n  //       \"errorCode\":200,\r\n  //       \"data\":{\r\n  //         meta_title:'meta標題api',\r\n  //         meta_description:'meta描述api',\r\n  //         meta_siteName:'meta網站名稱api',\r\n  //         slogan_isEnabled: 0,\r\n  //         slogan_title:'slogan標題api',\r\n  //         slogan_subtitle:'子標題api',\r\n  //       }\r\n  //     }\r\n  // });\r\n\r\n  function getForm() {\r\n    $.ajax({\r\n      url: apiDomain+'/api/v1/index/publish',\r\n      type: 'get',\r\n      data:{\r\n      },\r\n      success: function (res) {\r\n        console.log(res);\r\n        setForm(res.data)\r\n      },\r\n      error: function (xhr) {\r\n        console.log(xhr)\r\n      }\r\n    });\r\n  }\r\n\r\n  function setForm(data) {\r\n    // console.log(data)\r\n    for (const key in data) {\r\n      // console.log(key)\r\n      // console.log(data[key])\r\n      if(key.indexOf('_isEnable')>=0){\r\n        if(data[key]){\r\n          $(`#${key}`).val('1')\r\n        }else{\r\n          $(`#${key}`).val('0')\r\n        }\r\n      }else{\r\n        $(`#${key}`).val(data[key])\r\n      }\r\n    }\r\n    bindEvent();\r\n  }\r\n  \r\n  $(document).ready(function () {\r\n\r\n    getForm()\r\n\r\n    $(\"input[type='file']\").on('change',function () {\r\n      console.log(\"upload file\")\r\n      uploadFile($(this)[0])\r\n    })\r\n\r\n    $('.submit').on('click',function () {\r\n      isPreview = false\r\n      apiUrl = '/api/v1/index/create/publish'\r\n    })\r\n\r\n    $('.preview').on('click',function () {\r\n      isPreview = true\r\n      apiUrl = '/api/v1/index/create/draft'\r\n    })\r\n    \r\n  })\r\n})()"]}