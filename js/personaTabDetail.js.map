{"version":3,"sources":["personaTabDetail.js"],"names":["getList","$","ajax","apiDomain","url","type","success","res","LoadingOverlay","data","i","str","console","log","append","eventId","title","bindEvent","isCheaper","detail_savePrice","color","location","href","detail_buttonText","on","detail_exampleTitle","detail_exampleDetail","isDelete","confirm","detail_featuresTitle","icon","isEnable","id","showList","window","this","deleteApi","apiUrl","error","xhr","document","ready"],"mappings":"cACA,WAAC,SAAAA,IAECC,EAAA,QAASD,eAAU,QACjBC,EAAEC,KAAA,CACAA,IAAKC,UAAA,sCACLC,KAAKD,MACLE,KAAM,GAGNC,QAAS,SAAAC,GACPN,EAAE,QAAQO,eAAe,QAY/B,SAAkBC,GAChB,IACSC,EADLC,EAAM,GACV,IAASD,KAAKD,EAAdG,QAAAC,IAAcJ,EAAdC,IACEE,EAAAA,6CAAAA,OAwBiBE,SAAjBJ,GAAA,EAxBAE,yBAAAA,OAyBDH,EAAAC,GAAAK,QAzBCH,yBAAAA,OA0BHH,EAAAC,GAAAM,MA1BGJ,yBAAAA,OAMUH,EAAKC,GAAGN,IANlBQ,yBAAAA,OA4BKK,EAATP,GAAqBQ,UAAA,IAAA,IA5BjBN,yBAAAA,OA6BAH,EAAFC,GAAkBS,iBA7BhBP,6EAAAA,OA8BAH,EAAAC,GAAAU,MA9BAR,iCAAAA,OA+BOS,EAAPX,GAAgBY,aA/BhBV,yBAAAA,OA6BFH,EAAAC,GAAAa,kBA7BEX,yBAAAA,OAiCAH,EAAee,GAAGC,oBAjClBb,yBAAAA,OAkCAH,EAAAC,GAAAgB,qBAlCAd,yBAAAA,OAmCIe,EAAWC,GAAAA,sBAnCfhB,yBAAAA,OAeUH,EAAKC,GAAGmB,qBAflBjB,mCAAAA,OAoCcH,EAAAC,GAAAoB,KApCdlB,2BAAAA,OAqCEH,EAAAC,GAAAqB,SAAA,IAAA,IArCFnB,uFAAAA,OAsCYH,EAAAC,GAAAsB,GAtCZpB,6EAAAA,OAwCQH,EAAAC,GAAAsB,GAxCRpB,sDAiCFX,EAAA,eAAAa,OAAAH,GA9CIsB,CAAS1B,EAAIE,MA+DjBR,EAAE,aAAYuB,GAAG,QAAS,WAExBU,OAAOb,SAASC,KAAhBY,gCAAAA,OAAAjC,EAAAkC,MAAA1B,KAAA,UALJR,EAAA,eAAAuB,GAAA,QAAA,WAZmBI,QAAO,UAGpBQ,UAAU,CACRC,OAAM,kCACNL,GAAI/B,EAAEkC,MAAM1B,KAAK,YAlDrB6B,MAAO,SAAAC,GACLtC,EAAE,QAAQO,eAAe,QACzBI,QAAQC,IAAI0B,MAuDlBtC,EAAEuC,UAAUC,MAAM,WAEhBzC,IACAC,EAAE,YAAYuB,GAAG,QAAS,WAExBU,OAAOb,SAASC,KAAhB,gCA7EN","file":"personaTabDetail.js","sourcesContent":["// Example starter JavaScript for disabling form submissions if there are invalid fields\r\n(function () {\r\n\r\n  function getList() {\r\n    $('body').LoadingOverlay(\"show\");\r\n    $.ajax({\r\n      url: apiDomain + '/api/v1/index/personatab/detail/all',\r\n      type: 'get',\r\n      data: {\r\n      },\r\n      success: function (res) {\r\n        $('body').LoadingOverlay(\"hide\");\r\n        // console.log(res);\r\n        showList(res.data)\r\n        bindEvent()\r\n      },\r\n      error: function (xhr) {\r\n        $('body').LoadingOverlay(\"hide\");\r\n        console.log(xhr)\r\n      }\r\n    });\r\n  }\r\n\r\n  function showList(data) {\r\n    let str = '';\r\n    for (let i in data) {\r\n      console.log(data[i])\r\n      str = `\r\n        <tr>\r\n          <td scope=\"row\">${parseInt(i) + 1}</td>\r\n          <td>${data[i].eventId}</td>\r\n          <td>${data[i].title}</td>\r\n          <td>${data[i].url}</td>\r\n          <td>${data[i].isCheaper? '是' : '否'}</td>\r\n          <td>${data[i].detail_savePrice}</td>\r\n          <td><div style=\"width:50px;height:50px;background-color:${data[i].color}\"></div></td>\r\n          <td>${data[i].detail_title}</td>\r\n          <td>${data[i].detail_buttonText}</td>\r\n          <td>${data[i].detail_exampleTitle}</td>\r\n          <td>${data[i].detail_exampleDetail}</td>\r\n          <td>${data[i].detail_featureBullets}</td>\r\n          <td>${data[i].detail_featuresTitle}</td>\r\n          <td><img src=\"${data[i].icon}\"></td>\r\n          <td>${data[i].isEnable ? '是' : '否'}</td>\r\n          <td>\r\n            <div class=\"btn edit-btn btn-primary\" data-key=\"${data[i].id}\">修改</div>\r\n            <div class=\"btn delete-btn btn-danger\" data-key=\"${data[i].id}\">刪除</div>\r\n          </td>\r\n        </tr>\r\n      `\r\n      $('table tbody').append(str)\r\n    }\r\n  }\r\n\r\n  function bindEvent() {\r\n    $('.edit-btn').on('click', function () {\r\n      // console.log($(this).data('key'))\r\n      window.location.href = `personaTabDetailForm.html?id=${$(this).data('key')}`;\r\n    })\r\n    $('.delete-btn').on('click', function () {\r\n      // console.log($(this).data('key'))\r\n      let isDelete = confirm(`是否刪除?`)\r\n      if (isDelete) {\r\n        // alert(\"已刪除\")\r\n        deleteApi({\r\n          apiUrl: `/api/v1/index/personatab/detail`,\r\n          id: $(this).data('key')\r\n        })\r\n      } else {\r\n        // alert(\"取消刪除\")\r\n      }\r\n    })\r\n  }\r\n  $(document).ready(function () {\r\n\r\n    getList();\r\n    $('.add-btn').on('click', function () {\r\n      // console.log($(this).data('key'))\r\n      window.location.href = `personaTabDetailForm.html`;\r\n    })\r\n\r\n\r\n  })\r\n})()"]}