{"version":3,"sources":["all.js"],"names":["apiDomain","sendFormData","data","console","getElementById","dataForm","document","url","$","attr","log","method","formData","forEach","object","key","value","json","JSON","stringify","ajax","concat","type","processData","contentType","done","fail","res","alert","bindEvent","forms","querySelectorAll","form","prototype","addEventListener","checkValidity","event","stopPropagation","preventDefault","classList","add","getUrlQuery","location","href","indexOf","val","ary","split","length","i"],"mappings":"aACA,IAAIA,UAAW,6BAGf,SAASC,aAAaC,GAAtBC,QAASF,IAAAA,GACPE,IAAAA,EAAYD,SAAZE,eAAA,YACIC,EAAWC,IAAAA,SAASF,GAGpBG,EAAMC,EAAE,aAAaC,KAAK,UAC9BN,QAAQO,IAAIH,GACRI,EAASH,EAAE,aAAaC,KAAK,UACjCN,QAAQO,IAAIC,GAIZC,IAAAA,EAASC,GAA0BC,EAAOC,QAAOC,SAAAA,EAAdD,GAAAD,EAAAC,GAAAC,IAAnCC,EAAAC,KAAAC,UAAAL,GACAX,QAAQO,IAAGQ,YAAKC,GAGhBX,EAAEY,KAAK,CACLb,IAAG,GAAAc,OAAArB,WAAAqB,OAAKrB,GACRsB,KAAMX,EACNY,aAAa,EACbC,aAAa,EACbtB,KAAMU,IACLa,KAAK,SAAUvB,GAChBC,QAAQO,IAAIR,KACXwB,KAAK,SAAUC,GAChBxB,QAAQO,IAAIiB,GACZC,MAAM,UAIV,SAASC,UAAU3B,GAEjB,IAAI4B,EAAQxB,SAASyB,iBAAiB,qBAKlCC,MAAIC,UAACC,MAAAA,KAAiBJ,GACpBjB,QAAKmB,SAAKG,GACRC,EAAAA,iBAAA,SAAA,SAAAA,GACKJ,EAACK,iBAIND,QAAMC,IAAAA,MACNpC,EAAAA,iBACDmC,EAAAC,kBADCpC,aAAaC,KAPfkC,EAGKE,iBACHnC,EAAQO,mBAPhBsB,EAAAO,UAAAC,IAAA,mBAgBD,KAIC,SAAOC,YAAP1B,GADA,IAAIR,EAAMmC,SAASC,KAGhBpC,EAAIqC,GAAP,IAAsB,GAAnBrC,EAAIqC,QAAQ,KAKTC,IAFJ,IAAAC,EAASvC,EAATwC,MAAa,KAAMC,GAAAA,MAAO,KAEnBC,EAAGH,EAAAA,GAAGA,EAAIC,OAAP,EAAkBE,IACzBH,EAAAG,GAAAF,MAAA,KAAA,IAAAhC,IACF8B,EAAAC,EAAAG,GAAAF,MAAA,KAAA,IAGJ,OAAAF","file":"all.js","sourcesContent":["// Example starter JavaScript for disabling form submissions if there are invalid fields\r\nlet apiDomain= 'http://kiwi.ponitor.com.tw';\r\n\r\n\r\nfunction sendFormData(data) {\r\n  console.log(data)\r\n  let dataForm = document.getElementById('dataForm');\r\n  let formData = new FormData(dataForm);\r\n\r\n  let url = $('#dataForm').attr('action')\r\n  console.log(url)\r\n  let method = $('#dataForm').attr('method')\r\n  console.log(method)\r\n\r\n  //檢查formdata值\r\n  let object = {};\r\n  formData.forEach((value, key) => { object[key] = value });\r\n  let json = JSON.stringify(object);\r\n  console.log('formfata:'+json);\r\n\r\n  $.ajax({\r\n    url: `${apiDomain}${url}`,\r\n    type: method,\r\n    processData: false,\r\n    contentType: false,\r\n    data: formData,\r\n  }).done(function (data) {\r\n    console.log(data);\r\n  }).fail(function (res) {\r\n    console.log(res);\r\n    alert('操作失敗');\r\n  });\r\n}\r\n\r\nfunction bindEvent(data) {\r\n  // Fetch all the forms we want to apply custom Bootstrap validation styles to\r\n  let forms = document.querySelectorAll('.needs-validation')\r\n\r\n  // Loop over them and prevent submission\r\n  Array.prototype.slice.call(forms)\r\n    .forEach(function (form) {\r\n      form.addEventListener('submit', function (event) {\r\n        if (!form.checkValidity()) {\r\n          event.preventDefault()\r\n          event.stopPropagation()\r\n        }else{\r\n          console.log(\"OK\")\r\n          event.preventDefault()\r\n          event.stopPropagation()\r\n          sendFormData(data)\r\n        }\r\n\r\n        form.classList.add('was-validated')\r\n      }, false)\r\n    })\r\n}\r\n\r\nfunction getUrlQuery(key) {\r\n  let url = location.href;\r\n  let val = \"\";\r\n\r\n  if(url.indexOf('?')!=-1){\r\n    let ary = url.split('?')[1].split('&');\r\n\r\n    for(let i=0;i<=ary.length-1;i++){\r\n      if(ary[i].split('=')[0] == key){\r\n        val = ary[i].split('=')[1];\r\n      }\r\n    }\r\n  }\r\n  return val;\r\n}"]}