{"version":3,"sources":["form.js"],"names":["isCreate","apiUrl","$","attr","parseInt","getForm","ajax","apiDomain","isMainPage","getUrlQuery","url","type","success","res","LoadingOverlay","console","log","data","key","indexOf","concat","bindEvent","nextTo","setForm","error","xhr","document","ready","val"],"mappings":"cACA,WADA,IAAAA,EACCC,EAAYC,EAAA,cAAAC,KAAA,eACPH,EAAJE,EAAA,cAAAC,KAAA,eACIF,IAAWG,SAAAF,EAAF,cAAqBC,KAArB,oBAMb,SAASE,IAATH,EAAA,QAASG,eAAU,QACjBH,EAAEI,KAAA,CACAA,IAAAA,GAAAA,OAAKC,WAALD,OAAKL,GAALK,OAAKE,EAAA,WAAA,IAAAC,YAAA,OACLC,KAAG,MACHC,KAAI,GAGJC,QAAS,SAAAC,GACPX,EAAE,QAAQY,eAAe,QACzBC,QAAQC,IAAIH,GAUlB,SAAiBI,GAEf,IAAK,IAAMC,KAAOD,EAGb,GAAHC,EAAMC,QAAH,YACDF,EAAOC,GACLhB,EAAC,IAAAkB,OAAAF,IAAKA,IAAL,KAEDhB,EAAC,IAAAkB,OAAAF,IAAKA,IAAL,MAGHhB,EAAC,IAAAkB,OAAAF,IAAKA,IAALD,EAADC,IACAhB,EAAC,IAAAkB,OAAAF,IAAKA,KAAN,MAAkBD,EAAlBC,KAGJG,UAAU,CAAVA,SAAAA,EACErB,WAAAA,EACAQ,OAAAA,GAAAA,OAAUP,GAAVO,OAAAA,EAFQ,kBAAA,IAGRP,OAAMqB,IA5BJC,CAAQV,EAAII,OAEdO,MAAO,SAAAC,GACLvB,EAAE,QAAQY,eAAe,QACzBC,QAAQC,IAAIS,MAlBlBV,QAAIP,IAAAA,GA+CJN,EAAEwB,UAAUC,MAAM,WAEhBlB,YAAc,OACZT,GAAW,EACXK,IACAH,EAAE,oBAAoB0B,IAAInB,YAAY,QAClCD,GACJR,GAAW,EACXK,MAEAL,GAAW,EACXqB,UAAU,CACRrB,SAAAA,EACAC,OAAMA,EACNqB,OAAQA,OAjEhB","file":"form.js","sourcesContent":["// Example starter JavaScript for disabling form submissions if there are invalid fields\r\n(function () {\r\n  let isCreate;\r\n  let apiUrl = $('.page-data').attr('data-apiUrl')\r\n  let nextTo = $('.page-data').attr('data-nextTo')\r\n  let isMainPage = parseInt($('.page-data').attr('data-isMainPage'))?true:false;\r\n\r\n  console.log(nextTo)\r\n\r\n  function getForm() {\r\n    $('body').LoadingOverlay(\"show\");\r\n    $.ajax({\r\n      url: `${apiDomain}${apiUrl}${isMainPage?'/publish':'/'+getUrlQuery('id')}`,\r\n      type: 'get',\r\n      data:{\r\n      },\r\n      success: function (res) {\r\n        $('body').LoadingOverlay(\"hide\");\r\n        console.log(res);\r\n        setForm(res.data)\r\n      },\r\n      error: function (xhr) {\r\n        $('body').LoadingOverlay(\"hide\");\r\n        console.log(xhr)\r\n      }\r\n    });\r\n  }\r\n\r\n  function setForm(data) {\r\n    // console.log(data)\r\n    for (const key in data) {\r\n      // console.log(key)\r\n      // console.log(data[key])\r\n      if(key.indexOf('isEnable')>=0){\r\n        if(data[key]){\r\n          $(`#${key}`).val('1')\r\n        }else{\r\n          $(`#${key}`).val('0')\r\n        }\r\n      }else{\r\n        $(`#${key}`).val(data[key])\r\n        $(`.${key}`).attr('src',data[key])\r\n      }\r\n    }\r\n    bindEvent({\r\n      isCreate,\r\n      isMainPage,\r\n      apiUrl:`${apiUrl}${isMainPage?'/create/publish':''}`,\r\n      nextTo: nextTo\r\n    });\r\n  }\r\n  \r\n  $(document).ready(function () {\r\n\r\n    if(getUrlQuery('id')){\r\n      isCreate = false;\r\n      getForm();\r\n      $(\"input[name='id']\").val(getUrlQuery('id'))\r\n    }else if(isMainPage){\r\n      isCreate = false;\r\n      getForm();\r\n    }else{\r\n      isCreate = true;\r\n      bindEvent({\r\n        isCreate,\r\n        apiUrl:apiUrl,\r\n        nextTo: nextTo\r\n      });\r\n    }\r\n    \r\n  })\r\n})()"]}