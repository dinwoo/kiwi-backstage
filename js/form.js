"use strict";!function(){var t,a=$(".page-data").attr("data-apiUrl"),n=$(".page-data").attr("data-nextTo"),i=!!parseInt($(".page-data").attr("data-isMainPage"));function e(){$("body").LoadingOverlay("show"),$.ajax({url:"".concat(apiDomain).concat(a).concat(i?"/publish":"/"+getUrlQuery("id")),type:"get",data:{},success:function(e){$("body").LoadingOverlay("hide"),function(e){for(var t in console.log(e),e)if(0<=t.indexOf("isEnable"))e[t]?$("#".concat(t)).val("1"):$("#".concat(t)).val("0");else if(0<=t.indexOf("year_items")){$("#year_items").html("");for(var a=0;a<e[t].length;a++){$("#year_items").append($(".hidde-box .year_items").html()),$("#year_items .years").eq(a).find("input[name='year_item_year']").val(e[t][a].year_item_year),$("#year_items .years").eq(a).find(".months-box").html("");for(var n=e[t][a].year_item_itmes,i=0;i<n.length;i++){$("#year_items .years").eq(a).find(".months-box").append($(".hidde-box .month_items").html());for(var r=$("#year_items .years").eq(a).find(".months-box .months").eq(i).find(".form-bind-months-data"),o=0;o<r.length;o++)$(r[o]).attr("value",n[i][$(r[o]).attr("name").replace("year_item_item_","")])}}}else if(Array.isArray(e[t])){$("#".concat(t)).html("");for(var c=0;c<e[t].length;c++){$("#".concat(t)).append($(".hidde-box .".concat(t)).html()),console.log(e[t]);for(var l=$("#".concat(t," .items")).eq(c).find(".form-bind-items-data"),s=0;s<l.length;s++)console.log(e[t][c][$(l[s]).attr("name")]),$(l[s]).attr("value",e[t][c][$(l[s]).attr("name")]),l[s].nextElementSibling.setAttribute("src",e[t][c][$(l[s]).attr("name")])}$("input[type='file']").on("change",function(){uploadFile($(this)[0])})}else $("#".concat(t)).val(e[t]),$(".".concat(t)).attr("src",e[t])}(e.data),bindEvent({isCreate:t,isMainPage:i,apiUrl:"".concat(a).concat(i?"/create":""),nextTo:n})},error:function(e){$("body").LoadingOverlay("hide"),console.log(e)}})}$(document).ready(function(){getUrlQuery("id")?(t=!1,e(),$("input[name='id']").val(getUrlQuery("id"))):i?(t=!1,e()):(t=!0,$("input[type='file']").attr("required","required"),bindEvent({isCreate:t,apiUrl:a,nextTo:n})),$(".submit").on("click",function(){isPublish=!0}),$(".draft").on("click",function(){isPublish=!1})})}();
//# sourceMappingURL=form.js.map
