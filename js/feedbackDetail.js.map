{"version":3,"sources":["feedbackDetail.js"],"names":["getList","$","ajax","apiDomain","url","type","success","res","data","i","str","console","log","append","avatar","name","personaType","bindEvent","rating","text","showList","on","window","location","href","concat","this","document","confirm","alert","error","xhr","mockjax","status","responseTime","responseText","errorCode","1","2","ready"],"mappings":"cACA,WA4BE,SAASA,IAATC,EAAAC,KAASF,CACLE,IAAKC,UAAA,WACLC,KAAKD,MACLE,KAAI,GAGJC,QAAS,SAAAC,IAWb,SAAkBC,GAChB,IACSC,EADLC,EAAM,GACV,IAASD,KAAKD,EAAdG,QAAAC,IAAcJ,EAAdC,IACEE,EAAAA,6CAAAA,OAeiBE,EAfjBF,mCAAAA,OAgBDH,EAAAC,GAAAK,OAhBCH,2BAAAA,OAiBHH,EAAAC,GAAAM,KAjBGJ,yBAAAA,OAMUH,EAAKC,GAAGO,YANlBL,yBAAAA,OAmBKM,EAATR,GAAqBS,OAnBjBP,yBAAAA,OAoBAH,EAAFC,GAAkBU,KApBhBR,uFAAAA,OAsBAF,EAtBAE,6EAAAA,OAoBFF,EApBEE,sDAeAV,EAAE,eAAeY,OAAOH,GA3BtBU,CAASb,EAAIC,MA2CdP,EAAA,aAAAoB,GAAA,QAAA,WAEJC,OAAAC,SAAAC,KAAA,8BAAAC,OAAAxB,EAAAyB,MAAAlB,KAAA,UACCmB,EAAAA,eAAgBN,GAAA,QAAY,WAGXO,QAAjB,OAAAH,OAAyBxB,EAAAyB,MAAYlB,KAAA,OAArC,MAEEc,MAAOC,OALXM,MAAA,WA3CIC,MAAO,SAAAC,GACLpB,QAAQC,IAAImB,MAxCnB9B,EAAA+B,QAAA,CAEGA,IAAAA,UAAQ,WACN5B,OAAID,IACJ8B,aAFM,IAGNC,aAAc,CACdC,SAAc,EACZC,UAAU,IACV5B,KAAA,CACA6B,EAAA,CACIvB,OAAA,yCACAA,KAAO,OACPC,YAFA,cAGAC,OAAAA,SACAE,KAAQ,QALLoB,EAAA,CAQHxB,OAAA,yCACAA,KAAO,OACPC,YAFA,cAGAC,OAAAA,SACAE,KAAQ,YA6DlBjB,EAAE0B,UAAUY,MAAM,WAEhBvC,IACAC,EAAE,YAAYoB,GAAG,QAAQ,WAEvBC,OAAOC,SAASC,KAAhB,8BAvFN","file":"feedbackDetail.js","sourcesContent":["// Example starter JavaScript for disabling form submissions if there are invalid fields\r\n(function () {\r\n\r\n  $.mockjax({\r\n      url:apiDomain+ 'api/test',\r\n      status: 200,\r\n      responseTime: 750,         \r\n      responseText: {\r\n        \"success\":true,\r\n        \"errorCode\":200,\r\n        \"data\":{\r\n          1:{\r\n            avatar:'https://fakeimg.pl/200x200/?text=Hello',\r\n            name: 'name',\r\n            personaType: 'personaType',\r\n            rating: 'rating',\r\n            text: 'text',\r\n          },\r\n          2:{\r\n            avatar:'https://fakeimg.pl/200x200/?text=Hello',\r\n            name: 'name',\r\n            personaType: 'personaType',\r\n            rating: 'rating',\r\n            text: 'text',\r\n          }\r\n        }\r\n      }\r\n  });\r\n\r\n  function getList() {\r\n    $.ajax({\r\n      url: apiDomain+'api/test',\r\n      type: 'get',\r\n      data:{\r\n      },\r\n      success: function (res) {\r\n        // console.log(res);\r\n        showList(res.data)\r\n        bindEvent()\r\n      },\r\n      error: function (xhr) {\r\n        console.log(xhr)\r\n      }\r\n    });\r\n  }\r\n  \r\n  function showList(data) {\r\n    let str = '';\r\n    for (let i in data) {\r\n      console.log(data[i])\r\n      str=`\r\n        <tr>\r\n          <td scope=\"row\">${i}</td>\r\n          <td><img src=\"${data[i].avatar}\"></td>\r\n          <td>${data[i].name}</td>\r\n          <td>${data[i].personaType}</td>\r\n          <td>${data[i].rating}</td>\r\n          <td>${data[i].text}</td>\r\n          <td>\r\n            <div class=\"btn edit-btn btn-primary\" data-key=\"${i}\">修改</div>\r\n            <div class=\"btn delete-btn btn-danger\" data-key=\"${i}\">刪除</div>\r\n          </td>\r\n        </tr>\r\n      `\r\n      $('table tbody').append(str)\r\n    }\r\n  }\r\n\r\n  function bindEvent() {\r\n    $('.edit-btn').on('click',function () {\r\n      // console.log($(this).data('key'))\r\n      window.location.href = `feedbackDetailForm.html?id=${$(this).data('key')}`;\r\n    })\r\n    $('.delete-btn').on('click',function () {\r\n      // console.log($(this).data('key'))\r\n      let isDelete = confirm(`是否刪除${$(this).data('key')}?`)\r\n      if(isDelete){\r\n        alert(\"已刪除\")\r\n      }else{\r\n        alert(\"取消刪除\")\r\n      }\r\n    })\r\n  }\r\n  $(document).ready(function () {\r\n\r\n    getList();\r\n    $('.add-btn').on('click',function () {\r\n      // console.log($(this).data('key'))\r\n      window.location.href = `feedbackDetailForm.html`;\r\n    })\r\n\r\n    \r\n  })\r\n})()"]}